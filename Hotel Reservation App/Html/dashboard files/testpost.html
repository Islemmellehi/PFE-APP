<!DOCTYPE html>
<html>
  <body>
    <!--TESTING POST REQUEST HERE -->
    <form style="text-align: center; margin-top: 10%" method="POST">
      <label for="sender">Sender:</label>
      <input type="text" id="sender" name="sender" class="sen"/><br />

      <label for="message">Message</label>
      <input type="text" id="message" name="message" /><br />


      <button type="button" onclick="saveMsg()">Send Message</button>
    </form>

    <script>
      function saveMsg() {
        // Get form data
        const sender = document.getElementById("sender").value;
        const content = document.getElementById("message").value;

       console.log(sender)
       console.log(content)

       var message
        message = {
          sender: sender,
          content: content
        };
        console.log(message);

        fetch("http://localhost:2001/createmsg", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(message),
        })
          .then((response) => response.json())
          .then((data) => {
            console.log("Message sent:", data);
          })
          .catch((error) => {
            console.error("Error sending message:", error);
          });
        
      }
    </script>
  </body>
</html>
